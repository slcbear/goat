var it=Object.defineProperty;var lt=(t,e,s)=>e in t?it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var me=(t,e,s)=>(lt(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const h of r.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();function z(){}function Ze(t){return t()}function Qe(){return Object.create(null)}function se(t){t.forEach(Ze)}function et(t){return typeof t=="function"}function $e(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function rt(t){return Object.keys(t).length===0}function n(t,e){t.appendChild(e)}function Me(t,e,s){t.insertBefore(e,s||null)}function ae(t){t.parentNode&&t.parentNode.removeChild(t)}function o(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function l(){return C(" ")}function tt(t,e,s,a){return t.addEventListener(e,s,a),()=>t.removeEventListener(e,s,a)}function u(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function ct(t){return Array.from(t.childNodes)}function ge(t,e){e=""+e,t.data!==e&&(t.data=e)}function Xe(t,e,s){t.classList.toggle(e,!!s)}function ht(t,e,{bubbles:s=!1,cancelable:a=!1}={}){return new CustomEvent(t,{detail:e,bubbles:s,cancelable:a})}let F;function D(t){F=t}function ut(){if(!F)throw new Error("Function called outside component initialization");return F}function dt(){const t=ut();return(e,s,{cancelable:a=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=ht(e,s,{cancelable:a});return i.slice().forEach(h=>{h.call(t,r)}),!r.defaultPrevented}return!0}}const O=[],ye=[];let G=[];const we=[],ft=Promise.resolve();let be=!1;function pt(){be||(be=!0,ft.then(nt))}function _e(t){G.push(t)}function mt(t){we.push(t)}const ve=new Set;let N=0;function nt(){if(N!==0)return;const t=F;do{try{for(;N<O.length;){const e=O[N];N++,D(e),gt(e.$$)}}catch(e){throw O.length=0,N=0,e}for(D(null),O.length=0,N=0;ye.length;)ye.pop()();for(let e=0;e<G.length;e+=1){const s=G[e];ve.has(s)||(ve.add(s),s())}G.length=0}while(O.length);for(;we.length;)we.pop()();be=!1,ve.clear(),D(t)}function gt(t){if(t.fragment!==null){t.update(),se(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}function vt(t){const e=[],s=[];G.forEach(a=>t.indexOf(a)===-1?e.push(a):s.push(a)),s.forEach(a=>a()),G=e}const te=new Set;let yt;function Te(t,e){t&&t.i&&(te.delete(t),t.i(e))}function st(t,e,s,a){if(t&&t.o){if(te.has(t))return;te.add(t),yt.c.push(()=>{te.delete(t),a&&(s&&t.d(1),a())}),t.o(e)}else a&&a()}function wt(t,e,s){const a=t.$$.props[e];a!==void 0&&(t.$$.bound[a]=s,s(t.$$.ctx[a]))}function at(t){t&&t.c()}function ke(t,e,s){const{fragment:a,after_update:i}=t.$$;a&&a.m(e,s),_e(()=>{const r=t.$$.on_mount.map(Ze).filter(et);t.$$.on_destroy?t.$$.on_destroy.push(...r):se(r),t.$$.on_mount=[]}),i.forEach(_e)}function Ce(t,e){const s=t.$$;s.fragment!==null&&(vt(s.after_update),se(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function bt(t,e){t.$$.dirty[0]===-1&&(O.push(t),pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xe(t,e,s,a,i,r,h=null,m=[-1]){const d=F;D(t);const c=t.$$={fragment:null,ctx:[],props:r,update:z,not_equal:i,bound:Qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Qe(),dirty:m,skip_bound:!1,root:e.target||d.$$.root};h&&h(c.root);let g=!1;if(c.ctx=s?s(t,e.props||{},(p,v,...w)=>{const $=w.length?w[0]:v;return c.ctx&&i(c.ctx[p],c.ctx[p]=$)&&(!c.skip_bound&&c.bound[p]&&c.bound[p]($),g&&bt(t,p)),v}):[],c.update(),g=!0,se(c.before_update),c.fragment=a?a(c.ctx):!1,e.target){if(e.hydrate){const p=ct(e.target);c.fragment&&c.fragment.l(p),p.forEach(ae)}else c.fragment&&c.fragment.c();e.intro&&Te(t.$$.fragment),ke(t,e.target,e.anchor),nt()}D(d)}class He{constructor(){me(this,"$$");me(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=z}$on(e,s){if(!et(s))return z;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(s),()=>{const i=a.indexOf(s);i!==-1&&a.splice(i,1)}}$set(e){this.$$set&&!rt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _t="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_t);const $t="/assets/goat-6EDbWSqf.svg";function Mt(t){let e,s,a,i,r,h,m;return{c(){e=o("main"),s=o("label"),a=o("input"),i=l(),r=o("span"),u(a,"type","checkbox"),u(a,"class","svelte-rjmwnt"),u(r,"class","slider svelte-rjmwnt"),Xe(r,"round",t[1]),u(s,"class","switch formComponent svelte-rjmwnt")},m(d,c){Me(d,e,c),n(e,s),n(s,a),a.checked=t[0],n(s,i),n(s,r),h||(m=tt(a,"change",t[2]),h=!0)},p(d,[c]){c&1&&(a.checked=d[0]),c&2&&Xe(r,"round",d[1])},i:z,o:z,d(d){d&&ae(e),h=!1,m()}}}function Tt(t,e,s){dt();let{checked:a=!1}=e,{round:i=!1}=e;function r(){a=this.checked,s(0,a)}return t.$$set=h=>{"checked"in h&&s(0,a=h.checked),"round"in h&&s(1,i=h.round)},[a,i,r]}class kt extends He{constructor(e){super(),xe(this,e,Tt,Mt,$e,{checked:0,round:1})}}function Ct(t){let e,s,a,i,r,h,m,d=Math.floor(t[1]/ne*100*100)/100+"",c,g,p,v,w,$,M,y,x,H,T,L,A,b,E,I;function B(f){t[5](f)}let S={round:!0};return t[0]!==void 0&&(S.checked=t[0]),y=new kt({props:S}),ye.push(()=>wt(y,"checked",B)),y.$on("message",Ht),{c(){e=o("main"),s=o("div"),s.textContent=`${t[3]}`,a=l(),i=o("div"),r=C(t[1]),h=l(),m=o("div"),c=C(d),g=C("%"),p=l(),v=o("div"),w=o("button"),w.textContent="Run",$=l(),M=o("div"),at(y.$$.fragment),H=l(),T=o("p"),L=C("Switch strategy: "),A=C(t[2]),u(s,"class","iterations ri svelte-1gcz2ah"),u(i,"class","score ri svelte-1gcz2ah"),u(m,"class","percent ri svelte-1gcz2ah"),u(w,"class","round formComponent svelte-1gcz2ah"),u(w,"type","button"),u(v,"class","run ri svelte-1gcz2ah"),u(M,"class","select ri svelte-1gcz2ah"),u(e,"class","svelte-1gcz2ah")},m(f,_){Me(f,e,_),n(e,s),n(e,a),n(e,i),n(i,r),n(e,h),n(e,m),n(m,c),n(m,g),n(e,p),n(e,v),n(v,w),n(e,$),n(e,M),ke(y,M,null),n(M,H),n(M,T),n(T,L),n(T,A),b=!0,E||(I=tt(w,"click",t[4]),E=!0)},p(f,[_]){(!b||_&2)&&ge(r,f[1]),(!b||_&2)&&d!==(d=Math.floor(f[1]/ne*100*100)/100+"")&&ge(c,d);const j={};!x&&_&1&&(x=!0,j.checked=f[0],mt(()=>x=!1)),y.$set(j),(!b||_&4)&&ge(A,f[2])},i(f){b||(Te(y.$$.fragment,f),b=!0)},o(f){st(y.$$.fragment,f),b=!1},d(f){f&&ae(e),Ce(y),E=!1,I()}}}let ne=1e4;function xt(t){let e=["goat","goat","car"];e=e.sort(()=>Math.random()-.5);const s=Math.floor(Math.random()*3);let a=e[s];return e.splice(s,1),e.splice(e.findIndex(i=>i=="goat"),1),t&&(console.log(`${e}`),a=e.pop()),a}function Ht(t){console.log(t)}function Lt(t,e,s){let a,i=0,r=ne,h;function m(g,p){s(1,i=0);for(let v=0;v<g;v++)s(1,i+=xt(p)=="car"?1:0)}function d(g){m(ne,a)}function c(g){h=g,s(0,h)}return t.$$.update=()=>{t.$$.dirty&1&&s(2,a=h)},[h,i,a,r,d,c]}class At extends He{constructor(e){super(),xe(this,e,Lt,Ct,$e,{})}}function Et(t){let e,s,a,i,r,h,m,d,c,g,p,v,w,$,M,y,x,H,T,L,A,b,E,I,B,S,f,_,j,oe,Le,W,Ae,q,P,Ee,R,Ie,ie,Se,le,Pe,U,Ne,re,Oe,V,Ge,ce,ze,J,je,De,Fe,K,Be,he,We,ue,qe,Y,Re,de,Ue,fe,Ve,Q,Je,pe,Ke,X,Ye,Z,ee;return P=new At({}),{c(){e=o("main"),s=o("h1"),s.textContent="A no-frills Monty Hall simulation",a=l(),i=o("p"),i.innerHTML='A recent discussion in the comments section of a <a href="https://youtu.be/ytfCdqWhmdg">Vsauce2 YouTube video</a> revealed that a lot of people wrote at one time a program to simulate the Monty Hall problem. I did too, when I was studying CompSci in college and first encountered this in a probability course. Of course in those days, everything was different. We had to use CVS for version control, and my favorite scripting language was Perl.',r=l(),h=o("p"),h.innerHTML='Nowadays, of course, it&#39;s all about <a href="https://github.com/slcbear/monty">Git and Python</a>, or Git and Javascript. But, other than that, <s>not much has changed</s> almost everything has changed.',m=l(),d=o("h3"),d.textContent="What is this about?",c=l(),g=o("p"),g.innerHTML="At issue here is a television game show that was watched by many Grandmothers, called <em>Let&#39;s Make a Deal</em>, and it took place in a magical land known as mid-20th century America.",p=l(),v=o("p"),v.textContent='Contestants were chosen from the audience based on the outlandishness of their costumes, their camera-readiness and their ability to project emotions such as "enthusiasm" and "disappointment"â€”so, basically any average American.',w=l(),$=o("p"),$.textContent=`Emerging onstage, blinking under the white-hot studio lights, each contestant was confronted by Monty Hall, a genial, unemotional man not dressed, as the contestant was likely to be, as a giant chicken; but in a polyester suit, considered very swanky at the time. This presented each contestant with a humiliating moment of self-awareness, but before they could
think about that for very long, Monty Hall instructed them to choose one of three doors.`,M=l(),y=o("h3"),y.textContent="Cars vs. Goats",x=l(),H=o("p"),H.textContent=`One of the doors concealed a desirable commodity such as a car, while behind both of the other two doors was a goat, innocently
chewing its cud, and it didn't ask to be placed in such a situation; in fact, none of this is the goat's fault
and previous versions of the show in which the goat was sacrificed to Baal did not test well with audiences.`,T=l(),L=o("p"),L.innerHTML=`Nevertheless, there was a goat<a href="#numgoat"><sup>1</sup></a>. If the contestant chose a goat, the contestant lost. It seems important
to point out that the goat was unaffected by the choiceâ€”in any case, it remained a goat, and had very little
to say about any of this.`,A=l(),b=o("p"),b.innerHTML=`<img src="${$t}" alt="An illustration resembling a tattoo or a craft beer-bottle logo, with a goat&#39;s face surrounded by the slogan &#39;Don&#39;t Blame the Goat&#39;" class="svelte-136e3su"/>`,E=l(),I=o("p"),I.textContent="The contestant chose what was behind Door No. 1, Door No. 2, or Door No. 3, announcing their choice in front of witnesses, including Monty Hall and the audience.",B=l(),S=o("p"),S.innerHTML=`At that point, Monty Hall, looking cool and unruffled in his petroleum-based extruded threads, opened one of the unchosen doors,
as a trombone sounded a derisive descending note, to reveal a goat standing there, moderately surprised at the audience&#39;s <a href="#montychoice"><sup>2</sup></a>.`,f=l(),_=o("p"),_.innerHTML="It was not the goat&#39;s fault. <em>It was never the goat&#39;s fault.</em>",j=l(),oe=o("p"),oe.textContent=`Monty Hall then gave the contestant a choice of switching to the remaining door. Intuitively, we might assume that
this was of no consequence, and that the contestant had the same chance of winning whether they switched or not, but
in fact, for reasons our brains seem ill-equipped to understand, if the contestant switched, they doubled their chances of winning.`,Le=l(),W=o("h3"),W.textContent="This Simulation",Ae=l(),q=o("div"),at(P.$$.fragment),Ee=C(`
It's a typescript implementation of the standard kind of Monty Hall simulation that apparently everyone did at any point from five to 25 years ago. 
`),R=o("ul"),R.innerHTML=`<li>A game is modeled as a randomized array: <span class="code svelte-136e3su">let doors = [&#39;goat&#39;, &#39;goat&#39;, &#39;car&#39;].sort(Math.random() - .5)</span>. The discriminator passed to the <span class="code svelte-136e3su">Array.sort()</span> method is uniformly distributed on the interval <span class="math svelte-136e3su">[-0.5, 0.5)</span>; taking the sign of the discriminator to determine sorting order effectively randomizes the array.</li> <li>Contestant chooses an index <span class="code svelte-136e3su">i</span> at random, and <span class="code svelte-136e3su">doors[i]</span> is removed from the array. Note that the contestant&#39;s guess has a <span class="math svelte-136e3su">P<sup>-1</sup><sub class="svelte-136e3su">switch</sub> = 1/3</span> chance of being a <span class="code svelte-136e3su">[&#39;car&#39;]</span>, and it goes almost without saying that the <span class="code svelte-136e3su">[&#39;car&#39;]</span> is behind one of the other doors with probability <span class="math svelte-136e3su">P<sub class="svelte-136e3su">switch</sub> = 2/3</span></li> <li>Monty Hall chooses <span class="code svelte-136e3su">j</span> such that <span class="code svelte-136e3su">doors[j] === &#39;goat&#39;</span> and <span class="code svelte-136e3su">doors[j]</span> is removed from the array.</li> <li>Monty&#39;s action doesn&#39;t change <span class="math svelte-136e3su">P<sup>-1</sup><sub class="svelte-136e3su">switch</sub></span> or <span class="math svelte-136e3su">P<sub class="svelte-136e3su">switch</sub></span>. There is only one remaining element in the array, and it is <span class="code svelte-136e3su">[&#39;car&#39;]</span> still with probability <span class="math svelte-136e3su">P<sub class="svelte-136e3su">switch</sub> = 2/3</span>.  
  Which means, on average, a contestant should switch.</li>`,Ie=l(),ie=o("p"),ie.innerHTML='This algorithm is run <span class="code svelte-136e3su"><em>n</em></span> times, and an average score is calculated according to a mid-20th century utility scheme.',Se=l(),le=o("p"),le.textContent="One key point to remember is that there's a difference between being a contestant and running a simulation. A contestant normally gets only one shot at it. If you're a contestant who chooses the switch strategy and you end up losing, there's little comfort in knowing the odds were in your favor. Although it's clear that switching is the winning strategy in the long run, a certain religious argument can be made for the contestant to follow their gut, since it's not possible to predict with certainty the outcome of any particular game. Like most religious arguments, it is unassailable because it is unfalsifiable.",Pe=l(),U=o("h3"),U.textContent="A Mid-20th Century Utility Scheme",Ne=l(),re=o("p"),re.innerHTML='Here, prizes and winnings are valued according to a typical mid-20th century utility scheme which places no value on goats and regards car ownership as a wholly rewarding experience with no down sides. In other words, a car represents a win, and a goat is a loss<a href="#goatnote"><sup>3</sup></a>.',Oe=l(),V=o("div"),V.innerHTML='<table><caption class="svelte-136e3su">fig. 1: Unfair to Goats: A mid-20th century utility scheme.</caption> <thead><tr><th class="svelte-136e3su">Car</th> <th class="svelte-136e3su">Goat</th></tr></thead> <tbody><tr><td class="svelte-136e3su">1</td> <td class="svelte-136e3su">0</td></tr></tbody></table>',Ge=l(),ce=o("p"),ce.innerHTML=`The surprising thing and the whole point of this is that
when <span class="code svelte-136e3su">switch_strategy == True</span> the expected win
is twice that as in the alternative.`,ze=l(),J=o("div"),J.innerHTML='<table><caption class="svelte-136e3su">fig. 2: Strategies vs. Expected Wins</caption> <thead><tr><th class="svelte-136e3su">Switch Strategy</th> <th class="svelte-136e3su">Expected Win</th></tr></thead> <tbody><tr><td class="svelte-136e3su">True</td> <td class="svelte-136e3su">2/3</td></tr> <tr><td class="svelte-136e3su">False</td> <td class="svelte-136e3su">1/3</td></tr></tbody></table>',je=l(),De=o("hr"),Fe=l(),K=o("h3"),K.textContent="Goatnotes:",Be=l(),he=o("p"),he.innerHTML='<span id="numgoat">1</span>: In fact, recall that there are two goats: One each behind either of the two doors not concealing a car.',We=l(),ue=o("p"),ue.textContent=`These goats were immortalized in folk-pop idol Donovan's calypso-crossover hit "Goats of Perception" with a catchy, upbeat chorus that went:`,qe=l(),Y=o("div"),Y.innerHTML='<div class="line">First there is a goat,</div> <div class="line">Then there is no goat,</div> <div class="line">Then there is.</div>',Re=l(),de=o("p"),de.innerHTML=`<span id="montychoice">2</span>: It may seem to a casual viewerâ€”and of daytime game shows, there are seldom any other kindâ€”that Monty Hall makes this choice
freely, but if we consider that he is always going to reveal a goat, the only time he has a choice is when the contestant
chooses the car, leaving two goats unchosen. Otherwise, he is obligated to open one and only door: The one that has
The Goat Not Chosen<a href="#poemlink"><sup>4</sup></a>.`,Ue=l(),fe=o("p"),fe.innerHTML=`<span id="goatnote">3</span>: This is misleading and unfair to goats, as they certainly have worth and
indeed are among the most charming, inquisitive and affectionate of the farm animals.
(The pigs get all the attention at the State Fair, but let&#39;s face it: Pigs are scary and smell bad.
Goats are clean and smell nice, and will butt you playfully when you&#39;re not looking.)`,Ve=l(),Q=o("h3"),Q.textContent="Goats Are Cool, Cars Drool",Je=l(),pe=o("p"),pe.textContent="Many situations are possible, in fact, in which a goat is the prize much preferable to a car. For instance:",Ke=l(),X=o("ul"),X.innerHTML="<li>Post-apocalyptic hellscape</li> <li>Dating an Amish person</li> <li>Gas crisis</li> <li>... and more!</li>",Ye=l(),Z=o("div"),Z.innerHTML='<div class="poem svelte-136e3su"><div id="poemlink" class="svelte-136e3su">4:</div> <div class="line">Two goats diverged in a wood, and I,</div> <div class="line">I took the goat less traveled by,</div> <div>And that has made all the difference.</div></div> <div class="attribution svelte-136e3su">â€”From <em>The Goat Not Taken</em>, not by Robert Frost</div>',u(s,"class","svelte-136e3su"),u(d,"class","svelte-136e3su"),u(y,"class","svelte-136e3su"),u(W,"class","svelte-136e3su"),u(q,"class","simulation svelte-136e3su"),u(R,"class","svelte-136e3su"),u(U,"class","svelte-136e3su"),u(V,"class","centerTable svelte-136e3su"),u(J,"class","centerTable svelte-136e3su"),u(K,"class","svelte-136e3su"),u(Y,"class","poem svelte-136e3su"),u(Q,"class","svelte-136e3su"),u(X,"class","svelte-136e3su"),u(Z,"class","footnote"),u(e,"class","svelte-136e3su")},m(k,ot){Me(k,e,ot),n(e,s),n(e,a),n(e,i),n(e,r),n(e,h),n(e,m),n(e,d),n(e,c),n(e,g),n(e,p),n(e,v),n(e,w),n(e,$),n(e,M),n(e,y),n(e,x),n(e,H),n(e,T),n(e,L),n(e,A),n(e,b),n(e,E),n(e,I),n(e,B),n(e,S),n(e,f),n(e,_),n(e,j),n(e,oe),n(e,Le),n(e,W),n(e,Ae),n(e,q),ke(P,q,null),n(e,Ee),n(e,R),n(e,Ie),n(e,ie),n(e,Se),n(e,le),n(e,Pe),n(e,U),n(e,Ne),n(e,re),n(e,Oe),n(e,V),n(e,Ge),n(e,ce),n(e,ze),n(e,J),n(e,je),n(e,De),n(e,Fe),n(e,K),n(e,Be),n(e,he),n(e,We),n(e,ue),n(e,qe),n(e,Y),n(e,Re),n(e,de),n(e,Ue),n(e,fe),n(e,Ve),n(e,Q),n(e,Je),n(e,pe),n(e,Ke),n(e,X),n(e,Ye),n(e,Z),ee=!0},p:z,i(k){ee||(Te(P.$$.fragment,k),ee=!0)},o(k){st(P.$$.fragment,k),ee=!1},d(k){k&&ae(e),Ce(P)}}}class It extends He{constructor(e){super(),xe(this,e,null,Et,$e,{})}}new It({target:document.getElementById("app")});
